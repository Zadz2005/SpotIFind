{"ast":null,"code":"import React,{useState,useEffect}from'react';import'./ArtistsPage.css';import{getCountryFlag}from'../utils/countryUtils';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ArtistsPage=_ref=>{let{countryName,onArtistClick,onBack,onHome,loading,setLoading,setError}=_ref;const[artists,setArtists]=useState([]);useEffect(()=>{loadArtists();},[countryName]);const loadArtists=async()=>{try{setLoading(true);const response=await fetch(\"/api/v1/Country?countryName=\".concat(encodeURIComponent(countryName)));if(!response.ok){throw new Error('Failed to fetch artists');}const data=await response.json();console.log('üìä Artists loaded from Country table:',data);console.log('üéµ Artist names in Country table:',data.map(a=>a.artist));setArtists(data);}catch(error){console.error('Error loading artists:',error);setError('Failed to load artists. Please try again.');}finally{setLoading(false);}};const handleArtistClick=(artist,country)=>{console.log('üëÜ Artist card clicked:',artist,'from country:',country);console.log('üîç This artist name will be searched in ArtistDetail table:',artist);onArtistClick(artist,country);};if(loading){return/*#__PURE__*/_jsxs(\"div\",{className:\"loading-spinner\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinner\"}),/*#__PURE__*/_jsx(\"p\",{className:\"loading-text\",children:\"Loading artists...\"})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"artists-page\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"artists-header\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"back-btn\",onClick:onBack,children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-arrow-left\"}),\"Back to Countries\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"home-btn\",onClick:onHome,children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-home\"}),\"Home\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"country-info\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[getCountryFlag(countryName),\" \",countryName]}),/*#__PURE__*/_jsxs(\"p\",{children:[artists.length,\" artist\",artists.length!==1?'s':'',\" found\"]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"artists-list\",children:artists.map((artist,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"artist-card\",onClick:()=>handleArtistClick(artist.artist,countryName),style:{cursor:'pointer'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"artist-name\",children:artist.artist}),/*#__PURE__*/_jsxs(\"div\",{className:\"artist-rank\",children:[\"Rank: \",artist.rank]})]},index))})]});};export default ArtistsPage;","map":{"version":3,"names":["React","useState","useEffect","getCountryFlag","jsx","_jsx","jsxs","_jsxs","ArtistsPage","_ref","countryName","onArtistClick","onBack","onHome","loading","setLoading","setError","artists","setArtists","loadArtists","response","fetch","concat","encodeURIComponent","ok","Error","data","json","console","log","map","a","artist","error","handleArtistClick","country","className","children","onClick","length","index","style","cursor","rank"],"sources":["C:/Users/zahid/Downloads/Spot-I-Find/Spot-I-Find/spot-i-find-frontend/src/components/ArtistsPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './ArtistsPage.css';\nimport { getCountryFlag } from '../utils/countryUtils';\n\nconst ArtistsPage = ({ countryName, onArtistClick, onBack, onHome, loading, setLoading, setError }) => {\n  const [artists, setArtists] = useState([]);\n\n  useEffect(() => {\n    loadArtists();\n  }, [countryName]);\n\n  const loadArtists = async () => {\n    try {\n      setLoading(true);\n      const response = await fetch(`/api/v1/Country?countryName=${encodeURIComponent(countryName)}`);\n      if (!response.ok) {\n        throw new Error('Failed to fetch artists');\n      }\n      \n      const data = await response.json();\n      console.log('üìä Artists loaded from Country table:', data);\n      console.log('üéµ Artist names in Country table:', data.map(a => a.artist));\n      setArtists(data);\n    } catch (error) {\n      console.error('Error loading artists:', error);\n      setError('Failed to load artists. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleArtistClick = (artist, country) => {\n    console.log('üëÜ Artist card clicked:', artist, 'from country:', country);\n    console.log('üîç This artist name will be searched in ArtistDetail table:', artist);\n    onArtistClick(artist, country);\n  };\n\n  if (loading) {\n    return (\n      <div className=\"loading-spinner\">\n        <div className=\"spinner\"></div>\n        <p className=\"loading-text\">Loading artists...</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"artists-page\">\n      <div className=\"artists-header\">\n        <button className=\"back-btn\" onClick={onBack}>\n          <i className=\"fas fa-arrow-left\"></i>\n          Back to Countries\n        </button>\n        <button className=\"home-btn\" onClick={onHome}>\n          <i className=\"fas fa-home\"></i>\n          Home\n        </button>\n        <div className=\"country-info\">\n          <h2>{getCountryFlag(countryName)} {countryName}</h2>\n          <p>{artists.length} artist{artists.length !== 1 ? 's' : ''} found</p>\n        </div>\n      </div>\n      \n      <div className=\"artists-list\">\n        {artists.map((artist, index) => (\n          <div\n            key={index}\n            className=\"artist-card\"\n            onClick={() => handleArtistClick(artist.artist, countryName)}\n            style={{ cursor: 'pointer' }}\n          >\n            <div className=\"artist-name\">{artist.artist}</div>\n            <div className=\"artist-rank\">Rank: {artist.rank}</div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default ArtistsPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}